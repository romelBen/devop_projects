{% extends "base.html" %}
{% load i18n static %}

{% block content %}
<div class="content">
    {% if request.user.is_authenticated %}
        <div class="post-form">
            <div class="post-header">{% blocktrans with username=user.username %}What's up {{ username }}?{% endblocktrans %}</div>
            <div class="post-subheader">{% trans "Post new content here:" %}</div>
            <form class="message" id="post_form">
                <textarea name="message"></textarea>
                <input class="button" type="submit" value="Post" onclick="post_create('{% url 'api:post-list' %}', new FormData(document.getElementById('post_form')))" />
            </form>
        </div>
    {% endif %}
    <div class="posts-list">
        {% if not request.user.is_authenticated %}
            <div class="note">Log in to post.</div>
        {% endif %}
        {% if posts|length == 0 %}
            <div class="note">There are no posts yet.</div>
        {% endif %}
        {% for post in posts %}
            {% include "includes/post.html" %}
        {% endfor %}
    </div>
</div>
{% endblock %}
